""" Credentials-based login """
input LoginWithCredentialsInput {
    username: String!
    password: String!
}

type Mutation {
    loginWithCredentials(input: LoginWithCredentialsInput!): LoginResult!
}

""" Login Results """
type LoginSuccess {
    userId: String!
}

type InvalidCredentials {
    reason: String!
}

type PendingLink {
    allowedProviders: [String!]!
}

union LoginResult =
    LoginSuccess
    | InvalidCredentials
    | PendingLink


""" Me Query """
type Query {
    me: MeResult
}

""" Me Results """
type Authenticated {
    userId: String!
}

type Unauthenticated {
    reason: String!
}

union MeResult =
    Authenticated
    | Unauthenticated